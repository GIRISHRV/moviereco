<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Cineplex</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../assets/js/global.js"></script>
</head>
<body class="text-white">
    <!-- Sidebar -->
    <div id="mySidebar" class="sidebar">
        <p href="javascript:void(0)" class="close-btn" onclick="toggleSidebar()">&times;</p>
        <p class="navbar-brand mb-4 ms-4" href="#">Cineplex</p>
        <a href="/index.html"><i class="fas fa-home me-2"></i>Home</a>
        <a href="discover.html" class="auth-required"><i class="fas fa-compass me-2"></i>Discover</a>
        <a href="your-space.html" class="auth-required"><i class="fas fa-film me-2"></i>Your Space</a>
        <a href="profile.html" class="auth-required"><i class="fas fa-user me-2"></i>Profile</a>
    </div>

    <!-- Overlay -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <nav class="top-navbar">
        <button class="sidebar-toggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="search-container">
            
        </div>
    </nav>

    <!-- Main Content -->
    <div id="main-content">
        <div class="container py-5">
            <div class="row">
                <!-- Profile Card -->
                <div class="col-lg-4 mb-4">
                    <div class="card bg-dark border-secondary shadow h-100">
                        <div class="card-body text-center">
                            <img src="../assets/images/avatars/default.png" 
                                 alt="Profile" 
                                 class="user-avatar rounded-circle mb-4"
                                 style="width: 150px; height: 150px; object-fit: cover;">
                            <h3 id="username-display" class="mb-2 text-white">Loading...</h3>
                            <p class="text-muted mb-4" id="member-since">Member since: ...</p>
                            <div class="d-grid gap-2">
                                <button class="btn btn-danger" id="profile-logout-btn">
                                    <i class="fas fa-sign-out-alt me-2"></i>Logout
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="col-lg-8 mb-4">
                    <div class="row g-3">
                        <!-- Movies Watched Card -->
                        <div class="col-md-4">
                            <div class="card bg-dark border-primary h-100">
                                <div class="card-body text-center">
                                    <div class="display-4 text-primary mb-3">
                                        <i class="fas fa-film"></i>
                                    </div>
                                    <h5 class="card-title text-white">Movies Watched</h5>
                                    <h2 class="text-primary mb-0" id="movies-watched-count">0</h2>
                                </div>
                            </div>
                        </div>

                        <!-- Average Rating Card -->
                        <div class="col-md-4">
                            <div class="card bg-dark border-warning h-100">
                                <div class="card-body text-center">
                                    <div class="display-4 text-warning mb-3">
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <h5 class="card-title text-white">Average Rating</h5>
                                    <h2 class="text-warning mb-0" id="average-rating">0.0</h2>
                                </div>
                            </div>
                        </div>

                        <!-- Watch Time Card -->
                        <div class="col-md-4">
                            <div class="card bg-dark border-info h-100">
                                <div class="card-body text-center">
                                    <div class="display-4 text-info mb-3">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <h5 class="card-title text-white">Watch Time</h5>
                                    <h2 class="text-info mb-0" id="total-watch-time">0 hrs</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Watch History Card -->
                <div class="col-12">
                    <div class="card bg-dark border-secondary">
                        <div class="card-header bg-dark d-flex justify-content-between align-items-center">
                            <h3 class="mb-0">
                                <i class="fas fa-history me-2"></i>Watch History
                            </h3>
                        </div>
                        <div class="card-body">
                            <div id="watch-history" class="row g-4">
                                <!-- Watch history items will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- These would be identical to the modals in other pages -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="../assets/js/api.js"></script>
    <script src="../assets/js/profile.js"></script>
    <script src="../assets/js/auth.guard.js"></script>
    <script src="../assets/js/auth.js"></script>
</body>
</html>