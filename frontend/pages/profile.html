<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Cineplex</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <script src="../assets/js/global.js"></script>
</head>
<body class="text-white">
    <!-- Sidebar -->
    <div id="mySidebar" class="sidebar">
        <p href="javascript:void(0)" class="close-btn" onclick="toggleSidebar()">&times;</p>
        <p class="navbar-brand mb-4 ms-4" href="#">Cineplex</p>
        <a href="/index.html"><i class="fas fa-home me-2"></i>Home</a>
        <a href="discover.html" class="auth-required"><i class="fas fa-compass me-2"></i>Discover</a>
        <a href="your-space.html" class="auth-required"><i class="fas fa-film me-2"></i>Your Space</a>
        <a href="profile.html" class="auth-required"><i class="fas fa-user me-2"></i>Profile</a>
    </div>

    <!-- Overlay -->
    <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

    <nav class="top-navbar">
        <button class="sidebar-toggle" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="search-container">
            
        </div>
    </nav>

    <!-- Main Content -->
    <div id="main-content">
        <div class="container py-5">
            <!-- Profile Header Section -->
            <div class="profile-header-banner mb-5 rounded">
                <div class="row align-items-center p-4">
                    <div class="col-lg-3 text-center">
                        <img src="../assets/images/avatars/default.png" 
                             alt="Profile" 
                             class="user-avatar rounded-circle mb-4 animated-avatar"
                             style="width: 180px; height: 180px; object-fit: cover;">
                    </div>
                    <div class="col-lg-9">
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <h1 id="username-display" class="display-4 mb-2">Loading...</h1>
                                <p class="text-muted mb-3" id="member-since">Member since: ...</p>
                                <div class="achievement-badges mb-3">
                                    <span class="badge bg-primary me-2"><i class="fas fa-trophy me-1"></i>Movie Buff</span>
                                    <span class="badge bg-success me-2"><i class="fas fa-star me-1"></i>Critic</span>
                                    <span class="badge bg-info me-2"><i class="fas fa-clock me-1"></i>Time Traveler</span>
                                </div>
                            </div>
                            <button class="btn btn-danger" id="profile-logout-btn">
                                <i class="fas fa-sign-out-alt me-2"></i>Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="row g-4 mb-5">
                <!-- Movies Watched Card -->
                <div class="col-md-4">
                    <div class="stat-card card bg-dark h-100 border-primary animated-card">
                        <div class="card-body text-center p-4">
                            <div class="display-4 text-primary mb-3">
                                <i class="fas fa-film stat-icon"></i>
                            </div>
                            <h5 class="card-title text-white">Movies Watched</h5>
                            <div class="stat-value">
                                <h2 class="text-primary mb-0 counter" id="movies-watched-count">0</h2>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Average Rating Card -->
                <div class="col-md-4">
                    <div class="stat-card card bg-dark h-100 border-warning animated-card">
                        <div class="card-body text-center p-4">
                            <div class="display-4 text-warning mb-3">
                                <i class="fas fa-star stat-icon"></i>
                            </div>
                            <h5 class="card-title text-white">Average Rating</h5>
                            <div class="stat-value">
                                <h2 class="text-warning mb-0 counter" id="average-rating">0.0</h2>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Watch Time Card -->
                <div class="col-md-4">
                    <div class="stat-card card bg-dark h-100 border-info animated-card">
                        <div class="card-body text-center p-4">
                            <div class="display-4 text-info mb-3">
                                <i class="fas fa-clock stat-icon"></i>
                            </div>
                            <h5 class="card-title text-white">Watch Time</h5>
                            <div class="stat-value">
                                <h2 class="text-info mb-0" id="total-watch-time">0 hrs</h2>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Watch History Section -->
            <div class="card bg-dark border-secondary">
                <div class="card-header bg-dark d-flex justify-content-between align-items-center p-4">
                    <h3 class="mb-0">
                        <i class="fas fa-history me-2"></i>Watch History
                    </h3>
                </div>
                <div class="card-body p-4">
                    <div id="watch-history" class="row g-4">
                        <!-- Watch history items will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- These would be identical to the modals in other pages -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script src="../assets/js/api.js"></script>
    <script src="../assets/js/profile.js"></script>
    <script src="../assets/js/auth.guard.js"></script>
    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/movie-card.js"></script>
</body>
</html>